extends /layouts/application.pug

block content
  a.btn.btn-primary(href=urlFor('newTask')) Create task
  +formFor(f, { url: urlFor('tasks'), method: 'get' })
    .form-group
      label.sr-only(for='tags')= Tags
      input#tags.form-control(name='tags', class='form-control' type='text')
    .form-check
      input.form-check-input(type="checkbox" value="1" id="defaultCheck1" name="creatorId")
      label.form-check-label(for="defaultCheck1") My tasks
    .form-group
      label.sr-only(for='exampleFormControlSelect1') Example select
      select#exampleFormControlSelect1.form-control(name="assignedToId")
        option
        each user in users
          option(value=user.id)=user.fullName
    .form-group
      label.sr-only(for='exampleFormControlSelect2') Example 2
      select#exampleFormControlSelect2.form-control(name="taskStatusId")
        option
        each status in statuses
          option(value=status.id)=status.name
    +button(f, 'submit', 'Filter')
  table.table
    thead
      tr
        th name
        th Description
        th Status
        th Tags
        th Assigned to
        th Author
        th
    tbody
      each task in tasks
        tr
          td= task.name
          td= task.description
          td= task.taskStatus.name
          td
            each tag in task.Tags
              a.badge.badge-primary(href="#")= tag.name
          td= task.creator.fullName
          td= task.assignedTo.fullName
          td
            a.btn.btn-primary(href=urlFor('showTask', { id : task.id })) Open
          td
            a.btn.btn-primary(href=urlFor('editTask', { id: task.id })) Edit
          td
            a.btn.btn-primary.btn-danger(href=urlFor('deleteTask', { id: task.id }) data-method='delete' rel='nofollow') Delete
          
